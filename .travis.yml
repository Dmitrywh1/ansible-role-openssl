---
#
# Ansible managed
#
language: python

python:
  - "3.8"

services:
  - docker

env:
  global:
    namespace="robertdebock"
  matrix:
    - image="alpine" tag="latest"
    - image="alpine" tag="edge"
    - image="centos" tag="7"
    - image="centos" tag="latest"
    - image="debian" tag="latest"
    - image="debian" tag="bullseye"
    - image="fedora" tag="31"
    - image="fedora" tag="latest"
    - image="opensuse" tag="latest"
    - image="ubuntu" tag="latest"
    - image="ubuntu" tag="bionic"
    - image="ubuntu" tag="xenial"

cache:
  - pip

install:
  - pip install --upgrade pip
  - pip install tox

script:
  - n=0 ; until [ "$n" = 3 ] ; do tox --parallel all && break ; n=$((n+1)) ; done

notifications:
  webhooks: https://galaxy.ansible.com/api/v1/notifications/
  slack: "RKiQ3WKEtKtLURxM4m7OSGbBwTWMWsDX0JrMvqCehiiKoGYTtgNvYalVJ07nGiI3JlesXlM72FjfrtZbmUHYEz4mPh+YgvLDy/ENwbxl9Ge/1RqmjW7+pMy1oUFxVzaZQF9mMsbhbhtbJg6vtw8nQYsB8qBA7r3eC6un385RQIgfw8MeGFq0saZM4NjaGXOMvM5J5DUHGCnwD6MZ1EtlRu26Ga2B432ZtTcGjDMNO/DkLRq4cT5b0FdhC3py34DIsn2RUjPqI22cQfO5T66tez0kmopUyD103jsEtPjGw8zfXa7Lh/v5SjnLn1GWwt83ScENGGVw1sLeV92bYgjoGlSV2gyV2RKO/V2fWtWFWr9X/4iCBu7O3QnI5W6tQlrQM6AXUZBYLTgMjluTSxriLG8/+bE0xkuhH+ZO9IMe6fUyEistDUKEHfECrUY8WY07FRfWL248AUUQo0rK17NOg0cG6zFPv84rLWdYAGf8p3g9EKmVXYs4v8nR6JDHKVYPhUiEUSKpA9sQ/Wk4sg8YxsLKfPjWFGdM2CMf3aPoEsfjTG7mE9y45GGpw178a+mwPQy5R7pUMXRxx4FkvJD1/JL5c2kYdmhpYvZNvyOXZXo8Ril5P2weMzjmFakiJybm1ds++Z/DZkjYu+LouSwFh7PPdIjkOlqGTWfgHsnEVxs="
  email: false
